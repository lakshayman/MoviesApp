{"version":3,"sources":["components/Links.jsx","components/NavBar.jsx","api/index.js","components/Loader/index.jsx","pages/MoviesList.jsx","pages/MoviesInsert.jsx","app/index.js","index.js"],"names":["Collapse","styled","div","attrs","className","List","Item","Links","Fragment","to","Component","Container","Nav","nav","NavBar","api","axios","create","baseURL","apis","insertMovie","payload","post","getAllMovies","get","updateMovieById","id","put","deleteMovieById","delete","getMovieById","Loader","Wrapper","MoviesList","props","componentDidMount","a","setState","isLoading","then","movies","data","state","this","columns","Header","accessor","Cell","url","value","light","original","thumbnail","playing","controls","width","showTable","length","loading","defaultPageSize","showPageSizeOptions","minRows","Title","h1","Label","label","InputText","input","Button","button","CancelButton","MoviesInsert","handleChangeInputName","event","name","target","handleChangeInputYear","year","validity","valid","handleChangeInputLanguage","language","handleIncludeMovie","video","textentionStartIndex","indexOf","tfiletypeStartIndex","thumbnailType","substring","vextentionStartIndex","vfiletypeStartIndex","videoType","error","res","window","alert","location","reload","type","onChange","step","lang","min","max","pattern","multiple","onDone","base64","onClick","href","App","basename","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f30ad20a.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst Collapse = styled.div.attrs({\r\n    className: 'collpase navbar-collapse',\r\n})``\r\n\r\nconst List = styled.div.attrs({\r\n    className: 'navbar-nav mr-auto',\r\n})``\r\n\r\nconst Item = styled.div.attrs({\r\n    className: 'collpase navbar-collapse',\r\n})``\r\n\r\nclass Links extends Component {\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Collapse>\r\n                    <List>\r\n                        <Item>\r\n                            <Link to=\"/\" className=\"nav-link\">\r\n                                Create Movie\r\n                            </Link>\r\n                        </Item>\r\n                        <Item>\r\n                            <Link to=\"/list\" className=\"nav-link\">\r\n                                List Movies\r\n                            </Link>\r\n                        </Item>\r\n                    </List>\r\n                </Collapse>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Links","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Links from './Links'\r\n\r\nconst Container = styled.div.attrs({\r\n    className: 'container',\r\n})``\r\n\r\nconst Nav = styled.nav.attrs({\r\n    className: 'navbar navbar-expand-lg navbar-dark bg-dark',\r\n})`\r\n    margin-bottom: 20 px;\r\n`\r\n\r\nclass NavBar extends Component {\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <Nav>\r\n                    <Links />\r\n                </Nav>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://mysterious-river-71761.herokuapp.com/api',\r\n})\r\n\r\nexport const insertMovie = payload => api.post(`/movie`, payload)\r\nexport const getAllMovies = () => api.get(`/movies`)\r\nexport const updateMovieById = (id, payload) => api.put(`/movie/${id}`, payload)\r\nexport const deleteMovieById = id => api.delete(`/movie/${id}`)\r\nexport const getMovieById = id => api.get(`/movie/${id}`)\r\n\r\nconst apis = {\r\n    insertMovie,\r\n    getAllMovies,\r\n    updateMovieById,\r\n    deleteMovieById,\r\n    getMovieById,\r\n}\r\n\r\nexport default apis","import './index.css'\r\n\r\nfunction Loader(){\r\n    return (\r\n        <div className='loader'></div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import React, { Component } from 'react'\r\nimport api from '../api'\r\nimport Loader from '../components/Loader'\r\nimport ReactPlayer from 'react-player'\r\nimport ReactTable from 'react-table-6'\r\nimport styled from 'styled-components'\r\n\r\nimport 'react-table-6/react-table.css'\r\n\r\nconst Wrapper = styled.div`\r\n    padding: 0 40px 40px 40px;\r\n`\r\n\r\nclass MoviesList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            movies: [],\r\n            isLoading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.setState({ isLoading: true })\r\n\r\n        await api.getAllMovies().then(movies => {\r\n            this.setState({\r\n                movies: movies.data.data,\r\n                isLoading: false\r\n            })\r\n        })\r\n\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { movies, isLoading } = this.state\r\n        const columns = [\r\n            {\r\n                Header: 'Video',\r\n                accessor: 'video',\r\n                Cell: function(props) {\r\n                    return (\r\n                        <span>\r\n                            <ReactPlayer className=\"videoFrame activator\" url={props.value} light={props.original.thumbnail} playing controls />\r\n                        </span>\r\n                    )\r\n                },\r\n            },\r\n            {\r\n                Header: 'Name',\r\n                accessor: 'name',\r\n                width: 500\r\n            },\r\n            {\r\n                Header: 'Language',\r\n                accessor: 'language',\r\n                width: 400\r\n            },\r\n            {\r\n                Header: 'Year Of Realease',\r\n                accessor: 'year',\r\n                width: 200\r\n            },\r\n        ]\r\n        let showTable = true\r\n        if (!movies.length) {\r\n            showTable = false\r\n            \r\n        }\r\n        return (\r\n            <Wrapper>\r\n                {isLoading ? <Loader/> : \r\n                showTable && (\r\n                    <ReactTable\r\n                        data={movies}\r\n                        columns={columns}\r\n                        loading={isLoading}\r\n                        defaultPageSize={10}\r\n                        showPageSizeOptions={true}\r\n                        minRows={0}\r\n                    />\r\n                )}\r\n            \r\n           </Wrapper>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MoviesList","import React, { Component } from 'react'\r\nimport api from '../api'\r\nimport FileBase64 from 'react-file-base64'\r\nimport Loader from '../components/Loader'\r\nimport styled from 'styled-components'\r\n\r\n\r\n\r\nconst Title = styled.h1.attrs({\r\n    className: 'h1',\r\n})``\r\n\r\nconst Wrapper = styled.div.attrs({\r\n    className: 'form-group',\r\n})`\r\n    margin: 0 30px;\r\n`\r\n\r\nconst Label = styled.label`\r\n    margin: 5px;\r\n`\r\n\r\nconst InputText = styled.input.attrs({\r\n    className: 'form-control',\r\n})`\r\n    margin: 5px;\r\n`\r\n\r\nconst Button = styled.button.attrs({\r\n    className: `btn btn-primary`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\n\r\nconst CancelButton = styled.a.attrs({\r\n    className: `btn btn-danger`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\n\r\nclass MoviesInsert extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            name: '',\r\n            year: '',\r\n            language: '',\r\n            thumbnail: '',\r\n            video: '',\r\n            loading: false,\r\n            error: ''\r\n        }\r\n    }\r\n\r\n\r\n    handleChangeInputName = async event => {\r\n        const name = event.target.value\r\n        this.setState({ name })\r\n    }\r\n\r\n    handleChangeInputYear = async event => {\r\n        const year = event.target.validity.valid\r\n            ? event.target.value\r\n            : this.state.year\r\n\r\n        this.setState({ year })\r\n    }\r\n\r\n    handleChangeInputLanguage = async event => {\r\n        const language = event.target.value\r\n        this.setState({ language })\r\n    }\r\n\r\n    handleIncludeMovie = async () => {\r\n        const { name, year, language, thumbnail, video } = this.state\r\n        const payload = { name, year, language, thumbnail, video }\r\n       \r\n        const textentionStartIndex = thumbnail.indexOf('/');\r\n        const tfiletypeStartIndex = thumbnail.indexOf(':');\r\n\r\n        const thumbnailType = thumbnail.substring(tfiletypeStartIndex + 1, textentionStartIndex);\r\n        const vextentionStartIndex = video.indexOf('/');\r\n        const vfiletypeStartIndex = video.indexOf(':');\r\n\r\n        const videoType = video.substring(vfiletypeStartIndex + 1, vextentionStartIndex);\r\n\r\n        if(!(thumbnailType === 'image')){\r\n            this.setState({\r\n                error: this.state.error + ' thumbnail type is wrong'\r\n            })\r\n            return\r\n        }\r\n\r\n        if(!(videoType === 'video')){\r\n            this.setState({\r\n                error: this.state.error + ' video type is wrong'\r\n            })\r\n            return\r\n        }\r\n        this.setState({ loading: true }); \r\n        await api.insertMovie(payload).then(res => {\r\n            this.setState({ loading: false });\r\n            window.alert(`Movie inserted successfully`);\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { name, year, language, loading, error } = this.state\r\n        return (<div>\r\n    {loading ? <Loader/>:\r\n            (<Wrapper>\r\n                <Title>Create Movie</Title>\r\n\r\n                <Label>Name: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={this.handleChangeInputName}\r\n                />\r\n\r\n                <Label>Year Of Release: </Label>\r\n                <InputText\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    lang=\"en-US\"\r\n                    min=\"0\"\r\n                    max=\"9999\"\r\n                    pattern=\"[0-9][0-9[0-9][0-9]\"\r\n                    value={year}\r\n                    onChange={this.handleChangeInputYear}\r\n                />\r\n\r\n                <Label>Language: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={language}\r\n                    onChange={this.handleChangeInputLanguage}\r\n                />\r\n\r\n                <Label>Thumbnail:   (Max File Size 4 mb)   :</Label>\r\n                <FileBase64\r\n                type=\"file\"\r\n                multiple={false}\r\n                onDone={({ base64 }) => this.setState({ thumbnail: base64 })}\r\n                />\r\n\r\n                <Label>Video:   (Max File Size 10 mb) :</Label>\r\n                <FileBase64\r\n                type=\"file\"\r\n                multiple={false}\r\n                onDone={({ base64 }) => this.setState({ video: base64 })}\r\n                />\r\n\r\n                <Button onClick={this.handleIncludeMovie}>Add Movie</Button>\r\n                <CancelButton href={'/MoviesApp/list'}>Cancel</CancelButton>\r\n                <div>{ error }</div>\r\n            </Wrapper>)}\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MoviesInsert","import React from 'react'\r\nimport { HashRouter, Route } from 'react-router-dom'\r\n\r\nimport { NavBar } from '../components'\r\nimport { MoviesList, MoviesInsert } from '../pages'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nfunction App() {\r\n    return (\r\n        <HashRouter basename=\"/\">\r\n            <NavBar />\r\n            <Route path=\"/list\" exact component={MoviesList} />\r\n            <Route path=\"/\" exact component={MoviesInsert} />\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}